/*!
 * vue-filepond v1.0.3
 * A handy FilePond adapter component for Vue
 * 
 * Copyright (c) 2018 PQINA
 * https://pqina.nl/filepond
 * 
 * Licensed under the MIT license.
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerPlugin=void 0;var _vue=require("vue"),_vue2=_interopRequireDefault(_vue),_filepond=require("filepond");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var filteredComponentMethods=["setOptions","on","off","onOnce","appendTo","insertAfter","insertBefore","isAttachedTo","replaceElement","restoreElement","destroy"],isSupported=(0,_filepond.supported)(),getNativeConstructorFromType=function(type){return{string:String,boolean:Boolean,array:Array,function:Function,int:Number,serverapi:Object}[type]},props={id:String},events=[],watch={},update=function(){events.length=0;var _loop=function(prop){if(/^on/.test(prop))return events.push(prop),"continue";props[prop]=[String,getNativeConstructorFromType(_filepond.OptionTypes[prop])],watch[prop]=function(value){this._pond[prop]=value}};for(var prop in _filepond.OptionTypes)_loop(prop)};update();var registerPlugin=exports.registerPlugin=function(){_filepond.registerPlugin.apply(void 0,arguments),update()};exports.default=_vue2.default.component("FilePond",{name:"FilePond",render:function(h){return h("div",{class:{"filepond--wrapper":!0}},[h("input",{attrs:{id:this.id,name:this.name,type:"file",class:this.className,required:this.required,multiple:this.allowMultiple,accept:this.acceptedFileTypes,capture:this.captureMethod}})])},props:props,watch:watch,mounted:function(){var _this=this;if(isSupported){this._element=this.$el.querySelector("input");var options=events.reduce(function(obj,value){return obj[value]=function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];_this.$emit.apply(_this,[value.substr(2)].concat(args))},obj},{}),attrs=Object.assign({},this.$attrs);this._pond=(0,_filepond.create)(this._element,Object.assign(options,attrs,this.$options.propsData)),Object.keys(this._pond).filter(function(key){return!filteredComponentMethods.includes(key)}).forEach(function(key){_this[key]=_this._pond[key]})}},beforeDestroy:function(){this._pond&&this._pond.destroy()}});